/*!
 * nanofeed 1.0.2
 * (c) 2016-2018 Andre Figueiredo https://github.com/andretf
 * License: MIT
*/
!function(){"use strict";function e(e){return encodeURIComponent(Object.keys(e).map(function(t){return t+"="+e[t]}).join("&"))}function t(e){return e=Array.isArray(e)&&e.length?["title","link","date","description"].filter(function(t){return e.indexOf(String(t).toLowerCase())>-1}):o.fields,e.map(function(e){return"date"===e&&(e="pubDate"),"item."+e}).join(",")}function n(e,t){var n=new XMLHttpRequest;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(r){return}return t(e)},n.open("GET",e,!0),n.send()}function r(e,t){return function(e){if(e&&e.query&&void 0!==e.query.count){if(!e.query.count)return t([]);var n=[];try{var r=e.query.results.results.item;n=r.length?r:[r]}catch(i){}return n.length&&n[0].pubDate&&n.forEach(function(e){e.pubDate=new Date(e.pubDate)}),t(n)}}}function i(i,a,c){if("string"==typeof i)i=[i];else if(!Array.isArray(i)||!i.length)return this;"function"==typeof a?(c=a,a=o):a.qty=isNaN(a.qty)?o.qty:parseInt(a.qty),u=u.replace("{URLS}",i.join('","')).replace("{COLS}",t(a.fields)).replace("{QTY}",a.qty);var s=e({format:"json",callback:"",crossProduct:"optimized",env:"http://datatables.org/alltables.env",q:u}),l="https://query.yahooapis.com/v1/public/yql?"+s;n(l,r(a,c))}if(!window||!window.document)throw new Error("nanofeed requires a window with a document");var o={fields:["title","link"],qty:5},u='SELECT {COLS} FROM yql.query.multi WHERE queries=\'SELECT {COLS} FROM rss WHERE url in ("{URLS}")|UNIQUE(field="title",hideRepeatCount="true")|UNIQUE(field="link",hideRepeatCount="true")|SORT(field="pubDate",descending="true")|TRUNCATE({QTY})\'',a={options:o,fetch:i};window.nanofeed=window.nanofeed||a}(window);