var NanoFeed=function(e,t,r){"use strict";function n(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function o(e){var t=[];return e.title&&t.push("title"),e.link&&t.push("link"),e.date&&t.push("pubDate"),e.description&&t.push("description"),t.join(",")||"title"}function i(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){if(!(r.status>=200&&r.status<400))throw"An error occurred while trying to retrieve the feed.";var e;try{e=JSON.parse(r.responseText)}catch(n){throw"Retrieved feed has content in a invalid format. Expected JSON content."}t(e)},r.onerror=function(){throw"An error occurred while trying to retrieve the feed."},r.send()}"function"==typeof t&&(r=t,t={}),t=n({title:!0,link:!0,date:!1,description:!1,qty:5},t);var u={query:"SELECT "+o(t)+' FROM rss WHERE url="'+e+'" LIMIT '+t.qty},e="//query.yahooapis.com/v1/public/yql?q="+decodeURIComponent(u.query)+"&format=json&callback=";i(e,function(e){var t=[];return e.query&&e.query.results&&e.query.results.item&&(e.query.results.item.length?t=e.query.results.item:t.push(e.query.results.item)),r(t)})};