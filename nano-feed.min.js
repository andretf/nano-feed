var NanoFeed=function(e,t,r){"use strict";function n(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function u(e){var t=[];return e.title&&t.push("title"),e.link&&t.push("link"),e.date&&t.push("pubDate"),e.description&&t.push("description"),t.join(",")||"title"}function s(e,t){function r(){throw"An error occurred while trying to retrieve the feed."}var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(n.status>=200&&n.status<400){var e;try{e=JSON.parse(n.responseText)}catch(u){r()}t(e)}else r()},n.onerror=r,n.send()}"function"==typeof t&&(r=t,t={}),t=n({title:!0,link:!0,date:!1,description:!1,qty:5},t);var i={query:"SELECT "+u(t)+' FROM rss WHERE url="'+e+'" LIMIT '+t.qty},e="//query.yahooapis.com/v1/public/yql?q="+decodeURIComponent(i.query)+"&format=json&callback=";s(e,function(e){var t=[];return e.query&&e.query.results&&e.query.results.item&&(e.query.results.item.length?t=e.query.results.item:t.push(e.query.results.item)),r(t)})};