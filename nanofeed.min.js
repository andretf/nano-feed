var nanofeed=function(){"use strict";function e(e){var t="";return e.indexOf&&(t+=e.indexOf("title")>-1?"item.title,":"",t+=e.indexOf("link")>-1?"item.link,":"",t+=e.indexOf("date")>-1?"item.pubDate,":"",t+=e.indexOf("description")>-1?"item.description,":""),t.slice(0,-1)||i.fields}function t(e,t){var i=new XMLHttpRequest;i.onload=function(){var e;try{e=JSON.parse(i.responseText)}catch(n){}t(e)},i.open("GET",e,!0),i.send()}var i={fields:["title","link"],qty:5};return{fetch:function(n,r,a){if("string"==typeof n)n=[n];else if(!Array.isArray(n)||!n.length)return this;"function"==typeof r&&(a=r,r={}),Array.isArray(r.fields)||(r.fields=i.fields),r.qty=isNaN(r.qty)?i.qty:parseInt(r.qty);var l={baseUrl:"//query.yahooapis.com/v1/public/yql?format=json&callback=&crossProduct=optimized&env=http://datatables.org/alltables.env",template:'SELECT {COLS} FROM query.multi WHERE queries=\'SELECT title,link,pubDate,description FROM rss WHERE url in ("{URLS}")|UNIQUE(field="title",hideRepeatCount="true")|UNIQUE(field="link",hideRepeatCount="true")|SORT(field="pubDate",descending="true")|TRUNCATE({QTY})\''},s=l.template.replace("{COLS}",e(r.fields)).replace("{URLS}",n.join('","')).replace("{QTY}",r.qty),u=l.baseUrl+"&q="+encodeURIComponent(s);return t(u,function(e){if(e&&e.query&&e.query.count>=0){var t=[];if(e.query.count)try{var i=e.query.results.results.item;t=i.length?i:[i],r.fields.indexOf("date")>-1&&t.forEach(function(e){e.pubDate=new Date(e.pubDate)})}catch(n){}return a(t)}}),this}}}();